/*
    Used to style the Rock installer

    1. Page Components
    2. UI Wigets
    3. Install Panels
    4. Boostrap Overrides
    5. Waiting Annimation

*/

@brand-primary: #ee7725;     // This is the primary brand color that will be used for the header, primary buttons and other accents. #color
@body-background: #fafafa; // The page background color. #color
@text-color: #484848;     // The default text color. #color
@text-muted: #767676;     // The muted color for text #color

@btn-primary-color:              #fff;
@btn-primary-bg:                 @brand-primary;
@btn-primary-border:             darken(@btn-primary-bg, 5%);

@btn-default-color:              #484848;
@btn-default-bg:                 #fff;
@btn-default-border:             #dbdbdb;

@font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; // The base font to use for text. Be sure when defining this font that the various weights are configured.

@input-border-focus:             @brand-primary;    // The border color of active inputs.

@input-focus-rgba: rgba(red(@input-border-focus), green(@input-border-focus), blue(@input-border-focus), .6);
@input-focus-box-shadow: ~"0 0 0 3px @{input-focus-rgba}";
@input-focus-transition: ~"border-color .15s ease-in-out, box-shadow .15s ease-in-out";

// 1. Page Components
// -------------------------

body {
  font-family: @font-family-sans-serif;
  color: @text-color;
  background-color: @body-background;
  border-top: 24px solid @brand-primary;
}

h1 {
  font-family: @font-family-sans-serif;
  font-weight: 300;
  letter-spacing: -.02em;
}

#content {
  width: 480px;
  max-width: ~"calc(100vw - 30px)";
  margin: 0 auto 15px;

  #logo {
    display: block;
    width: 120px;
    height: 120px;
    margin: 20px auto 40px;

    text-indent: -9999px;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 399.8 400"><path class="rock-logo" fill="#ee7725" d="M200 0C89.5 0 0 89.5 0 200s89.5 200 200 200 200-89.5 200-200S310.5 0 200 0zM327 338.3h-72.6l-90.3-105.9c-0.2-0.3-0.4-0.6-0.6-0.9 -0.7-1-1.4-2-2-3 -0.3-0.6-0.6-1.1-0.9-1.8 -0.5-1-0.9-1.9-1.2-2.9 -0.3-0.8-0.5-1.5-0.7-2.3 -0.2-0.9-0.4-1.8-0.6-2.8s-0.2-1.9-0.3-2.8c0-0.5-0.1-1-0.1-1.5s0.1-0.7 0.1-1.1c0.1-1 0.2-2 0.4-3 0.1-0.8 0.2-1.5 0.4-2.3 0.3-1 0.6-2 1-3 0.2-0.6 0.5-1.3 0.8-1.9 0.5-1 1-2 1.7-3 0.3-0.5 0.6-1 1-1.5 0.7-0.9 1.5-1.8 2.3-2.7 0.4-0.5 0.9-0.9 1.3-1.3s0.7-0.8 1.1-1.1c0.5-0.4 1.1-0.7 1.7-1.1s1-0.7 1.4-1c1.1-0.7 2.2-1.3 3.4-1.8 0.4-0.2 0.9-0.4 1.3-0.6 1.3-0.5 2.6-0.9 3.9-1.1l1.2-0.3c1.4-0.2 2.9-0.3 4.3-0.4 0.2 0 0.4-0.1 0.7-0.1h60.7L178 107.1l-68 79.7H37.5l118.6-139c1.2-1.6 2.7-3.1 4.2-4.4 0.2-0.2 0.4-0.3 0.6-0.4 0.1-0.1 0.1-0.1 0.2-0.1 1.4-1.1 2.8-2 4.3-2.8l0.3-0.1c1.5-0.8 3-1.4 4.6-1.9l0.9-0.2c1.4-0.4 2.8-0.6 4.2-0.8 0.8-0.1 1.7-0.1 2.6-0.1 0.9-0.1 1.7-0.1 2.6 0 1.4 0.1 2.8 0.4 4.2 0.8l0.9 0.2c1.6 0.5 3.1 1.1 4.6 1.8 0.1 0 0.2 0.1 0.3 0.1 1.6 0.8 3 1.8 4.4 2.9 0.1 0 0.1 0.1 0.2 0.1 0.2 0.2 0.4 0.3 0.6 0.4 1.6 1.3 3 2.8 4.2 4.5L327.2 197c9.8 11.6 8.3 29-3.3 38.8 -5.3 4.4-12 6.7-18.9 6.4l-59.8 0.1L327 338.3z"></path></svg>') no-repeat scroll 0 0 transparent;
    fill: #ee7725;
  }
}

input[type="text"],
textarea,
.form-control {
  border-radius: 0;
  box-shadow: none;
  transition: @input-focus-transition;

  &:focus {
    border: 1px solid @input-border-focus;
    box-shadow: @input-focus-box-shadow;
  }
}

#pnlDone,
#pnlVideo {
  text-align: center;
}

.btn {
  border-radius: 0;
}

// 2. UI Wigets
// -------------------------

#install-steps {
  width: 110px;
  margin: 0;
  margin: 8px auto;
  list-style: none;

  li {
    float: left;
    margin-left: 4px;
    font-size: 20px;
    color: #93c866;

    &::before {
      font-family: FontAwesome;
      content: "\f10c";
    }

    &.complete {
      color: #93c866;

      &::before {
        content: "\f111";
      }
    }
  }
}

.fade-in {
  opacity: 0;  /* make things invisible upon start */
  -webkit-animation: fadeIn ease-in 1;  /* call our keyframe named fadeIn, use animattion ease-in and repeat it only 1 time */
  -moz-animation: fadeIn ease-in 1;
  animation: fadeIn ease-in 1;

  -webkit-animation-duration: 1s;
  -moz-animation-duration: 1s;
  animation-duration: 1s;

  -webkit-animation-fill-mode: forwards;  /* this makes sure that after animation is done we remain at the last keyframe value (opacity: 1)*/
  -moz-animation-fill-mode: forwards;
  animation-fill-mode: forwards;
}

.btn-list {
  margin-top: 24px;
}

/* used to show the user directions to a page (e.g. 'Administration > General Settings') */
.navigation-tip {
  padding: 2px 4px;
  font-family: Monaco, Menlo, Consolas, "Courier New", monospace; /* from bootstrap */
  font-size: 90%;
  color: #333;
  white-space: nowrap;
  background-color: #c2b8a7;
  border-radius: 4px;
}


.environment-test {
  margin: 18px 0 18px 64px;

  li {
    margin-bottom: 12px;

    i {
      float: left;
      margin-left: -28px;
      font-size: 22px;

      &.pass {
        color: #218921;
      }

      &.fail {
        color: #e43030;
      }
    }
  }
}

#console {
  display: none;
  width: 100%;
  height: 350px;
  min-height: 12px;
  padding: 12px;
  margin-top: 4px;
  margin-bottom: 48px;
  overflow-x: hidden;
  overflow-y: scroll;
  font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  color: #d3cec5;
  background-color: #282526;
  border-radius: 2px;

  ol {
    padding: 0;
    margin-left: 0;
    list-style-type: none;

    &:first-child {
      counter-reset: customlistcounter;
    }

    & > li {
      font-size: 13px;
      counter-increment: customlistcounter;

      & span {
        float: left;
        width: 90%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      &::before {
        float: left;
        width: 2em;
        width: 5%;
        margin-right: 12px;
        color: #717171;
        text-align: right;
        content: counter(customlistcounter) " ";
      }

      &.highlight {
        color: #446e73;
      }

      &.warning {
        color: #f3d066;
      }

      &.critical {
        color: #c84b4b;
      }
    }
  }
}

.content-narrow {
  max-width: 400px;
  margin: 0 auto;
  text-align: center;
}

// slow blinking annimation for final load
@-webkit-keyframes blink {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}
@-moz-keyframes blink {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

.blink {
  -webkit-transition: all 1.5s ease-in-out;
  -moz-transition: all 1.5s ease-in-out;
  -o-transition: all 1.5s ease-in-out;
  -ms-transition: all 1.5s ease-in-out;
  transition: all 1.5s ease-in-out;
  -webkit-animation-name: blink;
  -moz-animation-name: blink;
  -webkit-animation-duration: 3s;
  -moz-animation-duration: 3s;
  -webkit-animation-timing-function: ease-in-out;
  -moz-animation-timing-function: ease-in-out;
  -webkit-animation-iteration-count: infinite;
  -moz-animation-iteration-count: infinite;

  -webkit-animation-direction: normal;

  -moz-animation-direction: normal;
}

// 3. Install Panels
// -------------------------

#pnlWelcome,
#pnlComplete {
  img {
    display: block;
    max-width: 100%;
    margin: 0 auto;
  }


  h1 {
    margin-top: 6px;
    margin-bottom: 24px;
    font-size: 48px;
    line-height: .9em;
  }

  .ssl-alert {
    margin-top: 24px;
  }
}

#pnlInstallWatch {

  #installer-working {
    position: relative;
    width: 280px;
    margin: 0 auto;
  }

}

#pnlError {
  text-align: center;
}

// panel watch
.progress-header {
  div {
    text-align: center;
  }
}

@media (min-width: 768px) {
  .progress-header {
    div {
      text-align: left;
    }
  }

  #install-steps {
    float: right;
    margin: 8px 0 0 0;
  }
}


// 4. Bootstrap Overrides
// -------------------------
label {
  small {
    font-weight: normal;
  }
}

.btn-primary {
  color: @btn-primary-color;
  background-color: @btn-primary-bg;
  border-color: @btn-primary-border;

  &:hover,
  &:focus {
    background-color: lighten(@btn-primary-bg, 5%);
    border-color: darken(@btn-primary-border, 5%);
  }
}

.btn-default {
  color: @btn-default-color;
  background-color: @btn-default-bg;
  border-color: @btn-default-border;

  &:hover,
  &:focus {
    background-color: darken(@btn-default-bg, 5%);
    border-color: darken(@btn-default-bg, 5%);
  }
}

.well {
  color: #6a6a6a;
  background-color: #f3f3f4;
  border: 1px solid darken(#f3f3f4, 10%);
}

.progress {
  background-color: #eeebe7;

  .progress-bar {
    background-color: #afd074;
  }
}

// 5. Waiting Annimation
// -------------------------
.spinner {
  position: absolute;
  top: 28px;
  left: 100px;
  z-index: 4;
  width: 80px;
  height: 80px;
  padding: 25px 10px;
  margin: 0;
  font-size: 10px;
  text-align: center;
  background: #ee7624;
  border-radius: 120px;
}

.spinner > div {
  display: inline-block;
  width: 6px;
  height: 100%;
  background-color: #fff;

  -webkit-animation: stretchdelay 1.2s infinite ease-in-out;
  animation: stretchdelay 1.2s infinite ease-in-out;
}

.spinner .rect2 {
  -webkit-animation-delay: -1.1s;
  animation-delay: -1.1s;
}

.spinner .rect3 {
  -webkit-animation-delay: -1s;
  animation-delay: -1s;
}

.spinner .rect4 {
  -webkit-animation-delay: -.9s;
  animation-delay: -.9s;
}

.spinner .rect5 {
  -webkit-animation-delay: -.8s;
  animation-delay: -.8s;
}

@-webkit-keyframes stretchdelay {
  0%,
  40%,
  100% {
    -webkit-transform: scaleY(.4);
  }

  20% {
    -webkit-transform: scaleY(1);
  }
}

@keyframes stretchdelay {
  0%,
  40%,
  100% {
    -webkit-transform: scaleY(.4);
    transform: scaleY(.4);
  }

  20% {
    -webkit-transform: scaleY(1);
    transform: scaleY(1);
  }
}
