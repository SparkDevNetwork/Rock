// <copyright>
// Copyright by the Spark Development Network
//
// Licensed under the Rock Community License (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.rockrms.com/license
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// </copyright>
//
namespace Rock.Migrations
{
    using System;
    using System.Data.Entity.Migrations;

    /// <summary>
    ///
    /// </summary>
    public partial class ExternalApplicationDefinedType : Rock.Migrations.RockMigration4
    {
        /// <summary>
        /// Operations to be performed during the upgrade process.
        /// </summary>
        public override void Up()
        {
            AddDefinedType( "Tools", "External Application", "External tools that have been created to complete complex or long running tasks", "1FAC459C-5F62-4E7C-8933-61FF9FE2DFEF" );
            AddDefinedValue( "1FAC459C-5F62-4E7C-8933-61FF9FE2DFEF", "Rock Check Scanner", "The Check Scanner application uploads scanned checks as financial transactions. A Canon CR-50 or MagTek MICR MicrImage RS232 check scanner is required.", "BD5C5A1F-D295-4946-84A4-771834ED0598" );
            AddDefinedValue( "1FAC459C-5F62-4E7C-8933-61FF9FE2DFEF", "Rock Statement Generator", "The Statement Generator creates contribution statements for either a single person or all persons for a specified date range. It outputs a pdf which can be printed and mailed.", "54E1EBCC-5A5A-4B26-9CCB-36E7CEB49C3C" );
            AddDefinedValue( "1FAC459C-5F62-4E7C-8933-61FF9FE2DFEF", "Rock Job Scheduler Service", "The Rock Job Scheduler Service runs automated jobs as a windows service. Use the Rock Job Scheduler Service when you want the automated jobs to run as a windows service instead of within IIS.", "98E421D8-0F9D-484B-B2EA-2F6FEE8E785D" );

            Sql( @"
delete from [Attribute] where [Guid] in ('C6E82AF0-2128-492B-B5CB-7915630DDA0B','E9AAE4D6-B4DC-4AA2-BD86-D63B2B4D26F3','E0AF9B30-15EA-413B-BAC4-25B286D91FD9')
delete from [BinaryFile] where [Guid] in ('85A09244-EB5E-4E6F-BDAA-AD77A68ABE68', '40ACE9C0-BCB6-44BA-9371-943E3CF74C44', 'C7344F91-97FB-4354-BCDF-36043E2D1480')

declare
  @fieldTypeImageId int = (select [Id] from [FieldType] where [Guid] = '97F8157D-A8C8-4AB3-96A2-9CB2A9049E6D'),
  @fieldTypeTextId int = (select [Id] from [FieldType] where [Guid] = '9C204CD0-1233-41C5-818A-C5DA439445AA'),
  @entityTypeDefinedValueId int = (select [Id] from [EntityType] where [Name] = 'Rock.Model.DefinedValue'),
  @definedValueEntityId int = (select [Id] from [DefinedType] where [Guid] = '1FAC459C-5F62-4E7C-8933-61FF9FE2DFEF')

INSERT INTO [dbo].[Attribute] ([IsSystem],[FieldTypeId],[EntityTypeId],[EntityTypeQualifierColumn],[EntityTypeQualifierValue],[Key],[Name],[Description],[Order],[IsGridColumn],[DefaultValue],[IsMultiValue],[IsRequired],[Guid])
     VALUES 
        (0,@fieldTypeImageId,@entityTypeDefinedValueId,'DefinedTypeId',@definedValueEntityId,'Icon','Icon','The icon that will be displayed in the download UI',0,1,null,0,0,'C6E82AF0-2128-492B-B5CB-7915630DDA0B'),
        (0,@fieldTypeTextId,@entityTypeDefinedValueId,'DefinedTypeId',@definedValueEntityId,'Vendor','Vendor','The vendor of the external application',0,1,null,0,0,'E9AAE4D6-B4DC-4AA2-BD86-D63B2B4D26F3'),
        (0,@fieldTypeTextId,@entityTypeDefinedValueId,'DefinedTypeId',@definedValueEntityId,'DownloadUrl','Download Url','The url that the external application will be downloaded from',0,0,null,0,0,'E0AF9B30-15EA-413B-BAC4-25B286D91FD9')

declare
  @attributeIconId int = (select [Id] from [Attribute] where [Guid] = 'C6E82AF0-2128-492B-B5CB-7915630DDA0B'),
  @attributeVendorId int = (select [Id] from [Attribute] where [Guid] = 'E9AAE4D6-B4DC-4AA2-BD86-D63B2B4D26F3'),
  @attributeDownloadUrlId int = (select [Id] from [Attribute] where [Guid] = 'E0AF9B30-15EA-413B-BAC4-25B286D91FD9'),
  @definedValueCheckScannerId int = (select [Id] from [DefinedValue] where [Guid] = 'BD5C5A1F-D295-4946-84A4-771834ED0598'),
  @definedValueStatementGeneratorId int = (select [Id] from [DefinedValue] where [Guid] = '54E1EBCC-5A5A-4B26-9CCB-36E7CEB49C3C'),
  @definedValueJobSchedulerId int = (select [Id] from [DefinedValue] where [Guid] = '98E421D8-0F9D-484B-B2EA-2F6FEE8E785D')

-- SVG Icons
INSERT INTO [dbo].[BinaryFile] ([IsTemporary], [IsSystem], [BinaryFileTypeId], [Url], [FileName], [MimeType], [Description], [StorageEntityTypeId], [Guid]) 
    VALUES 
        (0, 0, 3, N'~/GetFile.ashx?guid=85a09244-eb5e-4e6f-bdaa-ad77a68abe68', N'check-scanner.svg', N'image/svg+xml', null, 51, N'85A09244-EB5E-4E6F-BDAA-AD77A68ABE68'),
        (0, 0, 3, N'~/GetFile.ashx?guid=40ACE9C0-BCB6-44BA-9371-943E3CF74C44', N'statement-generator.svg', N'image/svg+xml', null, 51, N'40ACE9C0-BCB6-44BA-9371-943E3CF74C44'),
        (0, 0, 3, N'~/GetFile.ashx?guid=C7344F91-97FB-4354-BCDF-36043E2D1480', N'job-service.svg', N'image/svg+xml', null, 51, N'C7344F91-97FB-4354-BCDF-36043E2D1480')

EXEC(N'INSERT INTO [dbo].[BinaryFileData] ([Id], [Content], [Guid]) VALUES ((select [Id] from BinaryFile where [Guid] = N''85A09244-EB5E-4E6F-BDAA-AD77A68ABE68''), 0x3C3F786D6C2076657273696F6E3D22312E302220656E636F64696E673D227574662D38223F3E0D0A3C212D2D2047656E657261746F723A2041646F626520496C6C7573747261746F722031362E302E302C20535647204578706F727420506C75672D496E202E205356472056657273696F6E3A20362E3030204275696C6420302920202D2D3E0D0A3C21444F435459504520737667205055424C494320222D2F2F5733432F2F4454442053564720312E312F2F454E222022687474703A2F2F7777772E77332E6F72672F47726170686963732F5356472F312E312F4454442F73766731312E647464223E0D0A3C7376672076657273696F6E3D22312E31222069643D224C617965725F312220786D6C6E733D22687474703A2F2F7777772E77332E6F72672F323030302F7376672220786D6C6E733A786C696E6B3D22687474703A2F2F7777772E77332E6F72672F313939392F786C696E6B2220783D223070782220793D22307078220D0A092077696474683D223230392E35707822206865696768743D223138342E3430357078222076696577426F783D22302030203230392E35203138342E3430352220656E61626C652D6261636B67726F756E643D226E657720302030203230392E35203138342E3430352220786D6C3A73706163653D227072657365727665223E0D0A3C706F6C79676F6E2066696C6C3D22234438443844382220706F696E74733D2235322E352C34302E3930352035342E352C37362E3430352034392C38352E3430352031302C38342E3430352031302C37352E3930352034332E352C34342E37363820222F3E0D0A3C706F6C79676F6E2066696C6C3D22234646464646462220706F696E74733D2237362E352C34302E393035203130342E37352C34302E393035203130342E37352C3134312E3634362031302C3134312E3634362031302C38342E3430352035342E352C38362E3535342035322E352C34302E39303520222F3E0D0A3C673E0D0A093C706174682066696C6C3D22233235323532352220643D224D3131312E3931352C33362E36333563342E3538352C302C382E3330362C332E3732312C382E3330362C382E3330367639342E31333763302C342E3538362D332E3732312C382E3330372D382E3330362C382E3330374831322E3530330D0A0909632D342E3538352C302D382E3330362D332E3732312D382E3330362D382E3330375638332E37303463302D342E3538362C322E3638322D31302E3938392C352E3838342D31342E31396C32362E3939352D32362E39393563332E3230322D332E3230322C392E3630342D352E3838342C31342E31392D352E3838340D0A0909483131312E3931357A204D3130392E3134362C34372E37314835392E3537327633352E39393463302C342E3538352D332E37322C382E3330362D382E3330362C382E3330364831352E3237327634342E336839332E3837345634372E37317A204D34382E3439382C34382E3430320D0A0909632D312E3437312C302E3531392D322E3934322C312E3239382D332E3534382C312E3930344C31372E3836382C37372E333837632D302E3630362C302E3630362D312E3338342C322E3037372D312E3930342C332E3534376833322E3533335634382E3430327A222F3E0D0A3C2F673E0D0A3C7265637420783D223130342E3534312220793D223131362E363436222066696C6C3D2223454634383438222077696474683D22313922206865696768743D223530222F3E0D0A3C706174682066696C6C3D22233235323532352220643D224D3130332E3735392C3137372E363134632D352E3435332C302D392E3837372D342E3432342D392E3837372D392E3837375631362E32383363302D352E3435332C342E3432342D392E3837372C392E3837372D392E3837376833322E3932350D0A0963352E3435332C302C392E3837372C342E3432342C392E3837372C392E3837377631392E393334632D372E3631332C322E3737382D31332E31372C31302E3038332D31332E31372C31382E3632337637352E333463302C382E35342C352E3535372C31352E3834352C31332E31372C31382E3632337631382E3933350D0A0963302C352E3435332D342E3432342C392E3837372D392E3837372C392E383737483130332E3735397A204D3132302E3232312C3133312E353263302D332E3630312D322E3938332D362E3538352D362E3538342D362E353835632D332E3630322C302D362E3538362C322E3938342D362E3538362C362E3538350D0A0973322E3938342C362E3538352C362E3538362C362E353835433131372E3233372C3133382E3130342C3132302E3232312C3133352E31322C3132302E3232312C3133312E35327A204D3132302E3232312C3135372E38353963302D332E3630312D322E3938332D362E3538352D362E3538342D362E3538350D0A09632D332E3630322C302D362E3538362C322E3938342D362E3538362C362E35383573322E3938342C362E3538352C362E3538362C362E353835433131372E3233372C3136342E3434342C3132302E3232312C3136312E34362C3132302E3232312C3135372E3835397A222F3E0D0A3C673E0D0A093C706174682066696C6C3D22233235323532352220643D224D3137322C36322E35393176372E30383463302C342E3139392D312E3231322C382E3231392D332E3633372C31322E3036632D322E3432352C332E3834322D352E3839342C352E3736332D31302E3430372C352E3736330D0A0909632D322E3630332C302D342E3830322D302E3537322D362E3539372D312E373136632D312E3739352D312E3134352D332E3439352D332E3235342D352E3130312D362E3333632D312E3630362D332E3037352D322E3430392D362E3333342D322E3430392D392E373737762D372E3038340D0A090963302D342E3137372C312E3230372D382E3139322C332E3632312D31322E30343463322E3431342D332E3835322C352E3837382D352E3737382C31302E3339322D352E37373863322E3538322C302C342E3737312C302E3536372C362E3536342C312E3730310D0A090963312E3739352C312E3133332C332E3530362C332E3233382C352E3133332C362E333133533137322C35392E3132372C3137322C36322E3539317A204D3136352E3531342C36322E35393163302D332E3530362D302E3937372D362E35372D322E3932392D392E3139350D0A0909632D312E3131322D312E3434382D322E3637372D322E3137332D342E3639312D322E313733632D312E3935322C302D332E3534382C302E3739382D342E3738362C322E333934632D312E3836392C322E3431342D322E3830332C352E3430352D322E3830332C382E39373476372E3038340D0A090963302C332E3532372C302E3938362C362E3539322C322E39362C392E31393563312E3039312C312E3434382C322E3635352C322E3137332C342E3639312C322E31373363312E3933322C302C332E3531372D302E3739382C342E3735352D322E3339330D0A090963312E3836382D322E3431342C322E3830332D352E3430352C322E3830332D382E3937355636322E3539317A222F3E0D0A093C706174682066696C6C3D22233235323532352220643D224D3139342E3733392C34342E3736387633352E333368362E35313963312E3535332C302C322E3636312C302E3239392C332E3332322C302E38393773302E3939312C312E33382C302E3939312C322E3334360D0A090963302C302E3934352D302E33332C312E3731362D302E3939312C322E333135632D302E3636312C302E3539382D312E37372C302E3839372D332E3332322C302E383937682D31392E343931632D312E3535342C302D322E3636312D302E332D332E3332322D302E3839370D0A0909632D302E3636312D302E3539392D302E3939322D312E33382D302E3939322D322E33343663302D302E3934352C302E3333312D312E3731362C302E3939322D322E33313473312E3736392D302E3839372C332E3332322D302E38393768362E3531385635332E3137366C2D352E3736322C312E3531310D0A0909632D302E3932342C302E3235322D312E3631372C302E3337382D322E3037382C302E333738632D302E3831392C302D312E3532372D302E3332352D322E3132362D302E393736632D302E3539382D302E36352D302E3839372D312E3434392D302E3839372D322E3339330D0A090963302D302E3836312C302E3232312D312E3533382C302E3636312D322E30333163302E3434312D302E3439332C312E3336342D302E3932392C322E3737312D312E3330374C3139342E3733392C34342E3736387A222F3E0D0A093C706174682066696C6C3D22233235323532352220643D224D3136312E3139392C39342E3435367633352E333368362E35313963312E3535332C302C322E3636312C302E3239392C332E3332322C302E38393773302E3939312C312E3338312C302E3939312C322E3334360D0A090963302C302E3934342D302E33332C312E3731362D302E3939312C322E333134732D312E37372C302E3839372D332E3332322C302E383937682D31392E343931632D312E3535342C302D322E3636312D302E3239392D332E3332322D302E383937732D302E3939322D312E33382D302E3939322D322E3334360D0A090963302D302E3934342C302E3333312D312E3731362C302E3939322D322E33313473312E3736392D302E3839372C332E3332322D302E38393768362E353138762D32362E3932336C2D352E3736322C312E353132632D302E3932342C302E3235322D312E3631372C302E3337382D322E3037382C302E3337380D0A0909632D302E3831392C302D312E3532372D302E3332352D322E3132362D302E393737632D302E3539382D302E36352D302E3839372D312E3434382D302E3839372D322E33393363302D302E38362C302E3232312D312E3533382C302E3636312D322E3033310D0A090963302E3434312D302E3439332C312E3336342D302E3932392C322E3737312D312E3330374C3136312E3139392C39342E3435367A222F3E0D0A093C706174682066696C6C3D22233235323532352220643D224D3230342E32352C3131322E32373876372E30383563302C342E3139392D312E3231322C382E3231392D332E3633372C31322E303631632D322E3432352C332E3834312D352E3839342C352E3736322D31302E3430372C352E3736320D0A0909632D322E3630332C302D342E3830322D302E3537322D362E3539372D312E373136732D332E3439352D332E3235342D352E3130312D362E333239632D312E3630362D332E3037352D322E3430392D362E3333342D322E3430392D392E373737762D372E3038350D0A090963302D342E3137372C312E3230372D382E3139312C332E3632312D31322E30343463322E3431342D332E3835322C352E3837382D352E3737382C31302E3339322D352E37373863322E3538322C302C342E3737312C302E3536372C362E3536342C312E370D0A090963312E3739352C312E3133342C332E3530362C332E3233382C352E3133332C362E333133433230332E3433372C3130352E3534362C3230342E32352C3130382E3831342C3230342E32352C3131322E3237387A204D3139372E3736342C3131322E3237380D0A090963302D332E3530352D302E3937372D362E35372D322E3932392D392E313934632D312E3131322D312E3434382D322E3637372D322E3137332D342E3639312D322E313733632D312E3935322C302D332E3534382C302E3739382D342E3738362C322E3339340D0A0909632D312E3836392C322E3431342D322E3830332C352E3430352D322E3830332C382E39373476372E30383563302C332E3532372C302E3938362C362E3539322C322E39362C392E31393463312E3039312C312E3434392C322E3635352C322E3137332C342E3639312C322E3137330D0A090963312E3933322C302C332E3531372D302E3739372C342E3735352D322E33393363312E3836382D322E3431342C322E3830332D352E3430352C322E3830332D382E393735563131322E3237387A222F3E0D0A3C2F673E0D0A3C2F7376673E0D0A, N''6CD69B56-20C6-42D2-B39E-F361E0F088C1'')')
EXEC(N'INSERT INTO [dbo].[BinaryFileData] ([Id], [Content], [Guid]) VALUES ((select [Id] from BinaryFile where [Guid] = N''40ACE9C0-BCB6-44BA-9371-943E3CF74C44''), 0x3C3F786D6C2076657273696F6E3D22312E302220656E636F64696E673D227574662D38223F3E0D0A3C212D2D2047656E657261746F723A2041646F626520496C6C7573747261746F722031362E302E302C20535647204578706F727420506C75672D496E202E205356472056657273696F6E3A20362E3030204275696C6420302920202D2D3E0D0A3C21444F435459504520737667205055424C494320222D2F2F5733432F2F4454442053564720312E312F2F454E222022687474703A2F2F7777772E77332E6F72672F47726170686963732F5356472F312E312F4454442F73766731312E647464223E0D0A3C7376672076657273696F6E3D22312E31222069643D224C617965725F312220786D6C6E733D22687474703A2F2F7777772E77332E6F72672F323030302F7376672220786D6C6E733A786C696E6B3D22687474703A2F2F7777772E77332E6F72672F313939392F786C696E6B2220783D223070782220793D22307078220D0A092077696474683D223230312E333333707822206865696768743D223138342E3636377078222076696577426F783D22302030203230312E333333203138342E3636372220656E61626C652D6261636B67726F756E643D226E657720302030203230312E333333203138342E363637220D0A0920786D6C3A73706163653D227072657365727665223E0D0A3C706F6C79676F6E2066696C6C3D22234646464646462220706F696E74733D2234312E3833332C31332E352034312E3833332C313732203135392E3333332C313732203135392E3333332C34342E35203132332E3333332C313020222F3E0D0A3C7265637420783D223135392E3333332220793D223834222066696C6C3D2223374243333634222077696474683D22333022206865696768743D223334222F3E0D0A3C673E0D0A093C706174682066696C6C3D22233235323532352220643D224D3139362E3832312C3134372E35323663302C312E3936342D312E3733322C332E3639362D332E3639362C332E363936682D32352E3837347631382E34383163302C362E3132322D342E3936372C31312E3038392D31312E3038392C31312E3038390D0A09094834352E323733632D362E3132322C302D31312E3038392D342E3936372D31312E3038392D31312E303839762D31382E34383148382E333131632D312E3936342C302D332E3639362D312E3733322D332E3639362D332E3639365639392E3437350D0A090963302D31322E3132382C31302E3034392D32322E3137382C32322E3137382D32322E31373868372E3339335631342E343663302D362E3132322C342E3936372D31312E3038392C31312E3038392D31312E3038396837372E36323263362E3132322C302C31342E3535352C332E3436352C31382E3934332C372E3835340D0A09096C31372E3535382C31372E35353863342E33392C342E3338392C372E3835342C31322E3832312C372E3835342C31382E3934337632392E353768372E3339336331322E3132392C302C32322E3137382C31302E3034392C32322E3137382C32322E313738563134372E3532367A204D3135322E3436362C39322E3038320D0A09095634372E373237682D31382E343831632D362E3132322C302D31312E3038392D342E3936372D31312E3038392D31312E3038395631382E3135364834382E39377637332E393236483135322E3436367A204D3135322E3436362C3136362E303038762D32392E35374834382E39377632392E3537483135322E3436367A0D0A0909204D3137342E3634342C39322E303832632D342E3034332C302D372E3339332C332E33352D372E3339332C372E33393373332E33352C372E3339332C372E3339332C372E33393373372E3339332D332E33352C372E3339332D372E333933533137382E3638372C39322E3038322C3137342E3634342C39322E3038327A220D0A09092F3E0D0A3C2F673E0D0A3C673E0D0A093C706174682066696C6C3D22233235323532352220643D224D3133332E3034312C35392E39303563302C312E3536382D312E32322C322E3738392D322E3738382C322E3738394836382E3931632D312E3536382C302D322E3738382D312E32322D322E3738382D322E373839762D352E3537360D0A090963302D312E3536392C312E32322D322E3738392C322E3738382D322E3738396836312E33343363312E3536382C302C322E3738382C312E32322C322E3738382C322E3738395635392E3930357A204D3133332E3034312C38322E32313163302C312E3536392D312E32322C322E3738392D322E3738382C322E3738390D0A09094836382E3931632D312E3536382C302D322E3738382D312E32322D322E3738382D322E373839762D352E35373663302D312E3536382C312E32322D322E3738392C322E3738382D322E3738396836312E33343363312E3536382C302C322E3738382C312E32322C322E3738382C322E3738395638322E3231317A222F3E0D0A3C2F673E0D0A3C673E0D0A093C706174682066696C6C3D22233235323532352220643D224D3130392E3630382C33372E38323563302C312E3536382D312E32322C322E3738392D322E3738382C322E3738394836382E3931632D312E3536382C302D322E3738382D312E32322D322E3738382D322E373839762D352E3537360D0A090963302D312E3536392C312E32322D322E3738392C322E3738382D322E3738396833372E393163312E3536382C302C322E3738382C312E32322C322E3738382C322E3738395633372E3832357A222F3E0D0A3C2F673E0D0A3C2F7376673E0D0A, N''03D2584C-9DA0-4B64-B4A6-169ED9857214'')')
EXEC(N'INSERT INTO [dbo].[BinaryFileData] ([Id], [Content], [Guid]) VALUES ((select [Id] from BinaryFile where [Guid] = N''C7344F91-97FB-4354-BCDF-36043E2D1480''), 0x3C3F786D6C2076657273696F6E3D22312E302220656E636F64696E673D227574662D38223F3E0D0A3C212D2D2047656E657261746F723A2041646F626520496C6C7573747261746F722031362E302E302C20535647204578706F727420506C75672D496E202E205356472056657273696F6E3A20362E3030204275696C6420302920202D2D3E0D0A3C21444F435459504520737667205055424C494320222D2F2F5733432F2F4454442053564720312E312F2F454E222022687474703A2F2F7777772E77332E6F72672F47726170686963732F5356472F312E312F4454442F73766731312E647464223E0D0A3C7376672076657273696F6E3D22312E31222069643D224C617965725F312220786D6C6E733D22687474703A2F2F7777772E77332E6F72672F323030302F7376672220786D6C6E733A786C696E6B3D22687474703A2F2F7777772E77332E6F72672F313939392F786C696E6B2220783D223070782220793D22307078220D0A092077696474683D223230312E333333707822206865696768743D223138342E3636377078222076696577426F783D22302030203230312E333333203138342E3636372220656E61626C652D6261636B67726F756E643D226E657720302030203230312E333333203138342E363637220D0A0920786D6C3A73706163653D227072657365727665223E0D0A3C673E0D0A093C706F6C79676F6E2066696C6C3D22234646464646462220706F696E74733D222D3135392E3833342C3130342E35202D3135392E3833342C323633202D34322E3333342C323633202D34322E3333342C3133352E35202D37382E3333342C3130312009222F3E0D0A093C7265637420783D222D34322E3333342220793D22313735222066696C6C3D2223374243333634222077696474683D22333022206865696768743D223334222F3E0D0A093C673E0D0A09093C706174682066696C6C3D22233235323532352220643D224D2D342E3834362C3233382E35323763302C312E3936332D312E3733322C332E3639352D332E3639362C332E363935682D32352E3837347631382E34383263302C362E3132312D342E3936372C31312E3038382D31312E3038392C31312E3038380D0A090909682D3131302E383839632D362E3132322C302D31312E3038392D342E3936372D31312E3038392D31312E303838762D31382E343832682D32352E383734632D312E3936342C302D332E3639362D312E3733322D332E3639362D332E363935762D34382E3035330D0A09090963302D31322E3132382C31302E3034392D32322E3137382C32322E3137382D32322E31373868372E333933563130352E343663302D362E3132322C342E3936372D31312E3038392C31312E3038392D31312E3038396837372E3632320D0A09090963362E3132322C302C31342E3535352C332E3436352C31382E3934332C372E3835346C31372E3535382C31372E35353863342E33392C342E3338392C372E3835342C31322E3832312C372E3835342C31382E3934337632392E353768372E3339330D0A0909096331322E3132392C302C32322E3137382C31302E30352C32322E3137382C32322E313738563233382E3532377A204D2D34392E3230312C3138332E303832762D34342E333535682D31382E343831632D362E3132322C302D31312E3038392D342E3936372D31312E3038392D31312E303839762D31382E3438310D0A090909682D37332E3932367637332E393235482D34392E3230317A204D2D34392E3230312C3235372E303038762D32392E3537682D3130332E3439367632392E3537482D34392E3230317A204D2D32372E3032332C3138332E303832632D342E3034332C302D372E3339332C332E33352D372E3339332C372E3339330D0A09090973332E33352C372E3339332C372E3339332C372E33393373372E3339332D332E33352C372E3339332D372E333933532D32322E39382C3138332E3038322D32372E3032332C3138332E3038327A222F3E0D0A093C2F673E0D0A093C673E0D0A09093C706174682066696C6C3D22233235323532352220643D224D2D36382E3632362C3135302E39303663302C312E3536382D312E32322C322E3738382D322E3738382C322E373838682D36312E333433632D312E3536382C302D322E3738382D312E32322D322E3738382D322E373838762D352E3537360D0A09090963302D312E3536392C312E32322D322E3738392C322E3738382D322E3738396836312E33343363312E3536382C302C322E3738382C312E32322C322E3738382C322E373839563135302E3930367A204D2D36382E3632362C3137332E3231320D0A09090963302C312E3536392D312E32322C322E3738382D322E3738382C322E373838682D36312E333433632D312E3536382C302D322E3738382D312E3231392D322E3738382D322E373838762D352E35373663302D312E3536382C312E32322D322E3738382C322E3738382D322E3738386836312E3334330D0A09090963312E3536382C302C322E3738382C312E32322C322E3738382C322E373838563137332E3231327A222F3E0D0A093C2F673E0D0A093C673E0D0A09093C706174682066696C6C3D22233235323532352220643D224D2D39322E3035392C3132382E38323563302C312E3536382D312E32322C322E3738392D322E3738382C322E373839682D33372E3931632D312E3536382C302D322E3738382D312E32322D322E3738382D322E373839762D352E3537360D0A09090963302D312E3536392C312E32322D322E3738392C322E3738382D322E3738396833372E393163312E3536382C302C322E3738382C312E32322C322E3738382C322E373839563132382E3832357A222F3E0D0A093C2F673E0D0A3C2F673E0D0A3C673E0D0A093C706174682066696C6C3D22233234323432342220643D224D3133332E3632312C3130342E39353363302C312E3238362D302E3938392C322E37372D322E3237352C322E3936386C2D31352E3333332C322E333734632D302E3739312C322E3537322D312E3837392C352E3034352D332E3136352C372E3531380D0A090963322E37372C332E3935372C352E3733372C372E3631372C382E3930322C31312E33373663302E3339362C302E3539342C302E3639322C312E3138372C302E3639322C312E39373963302C302E3639322D302E3139372C312E3338352D302E3639322C312E3837390D0A0909632D312E3937392C322E3637312D31332E3035382C31342E3733392D31352E3932362C31342E373339632D302E3739322C302D312E3438342D302E3239362D322E3037372D302E3639326C2D31312E3337372D382E393033632D322E3437332C312E3238372D342E3934362C322E3237352D372E3631372C332E3036370D0A0909632D302E3439352C352E3034352D302E3938392C31302E3438352D322E3237352C31352E333333632D302E3339362C312E3338352D312E3538332C322E3337342D322E3936382C322E3337344836312E313131632D312E3338352C302D322E37372D312E3038382D322E3936382D322E3437330D0A09096C2D322E3237352D31352E313336632D322E3537322D302E3739312D352E3034352D312E3837392D372E3431392D332E3036366C2D31312E3637332C382E383034632D302E3439352C302E3439352D312E3238362C302E3639322D312E3937392C302E3639320D0A0909632D302E3739322C302D312E3438342D302E3239362D322E3037382D302E373931632D322E3537322D322E3337342D31342E3234352D31322E3935392D31342E3234352D31352E38323863302D302E3639322C302E3239372D312E3238362C302E3639322D312E3837390D0A090963322E3836392D332E3735392C352E3833362D372E3431392C382E3730352D31312E323737632D312E3338352D322E3637312D322E3537322D352E3334322D332E3436322D382E3131316C2D31352E3033362D322E33373543372E3938392C3130372E3332372C372C3130362E3034312C372C3130342E3635360D0A09095638362E33353563302D312E3238362C302E3938392D322E37372C322E3237352D322E3936386C31352E3333332D322E33373463302E3739312D322E3537322C312E3837392D352E3034352C332E3136362D372E353138632D322E37372D332E3935372D352E3733382D372E3631372D382E3930332D31312E3337360D0A0909632D302E3339362D302E3539342D302E3639322D312E3238362D302E3639322D312E39373973302E3139382D312E3338352C302E3639322D312E39373963312E3937392D322E3637312C31332E3035382D31342E3634312C31352E3932372D31342E3634310D0A090963302E3739322C302C312E3438342C302E3239372C322E3037372C302E3639326C31312E3337362C382E39303363322E3437332D312E3238362C342E3934362D322E3237352C372E3631372D332E31363663302E3439352D342E3934362C302E3938392D31302E3338372C322E3237352D31352E3233340D0A090963302E3339362D312E3338352C312E3538332D322E3337342C322E3936382D322E3337344837392E353163312E3338352C302C322E37372C312E3038382C322E3936382C322E3437336C322E3237352C31352E31333563322E3537322C302E3739312C352E3034352C312E3837392C372E3431392C332E3036360D0A09096C31312E3637322D382E38303463302E3539342D302E3439352C312E3238372D302E3639322C312E3937392D302E36393263302E3739312C302C312E3438332C302E3239372C322E3037372C302E37393263322E3537322C322E3337342C31342E3234352C31332E3035382C31342E3234352C31352E3832380D0A090963302C302E3639322D302E3239372C312E3238362D302E3639332C312E383739632D322E3836382C332E3835382D352E3833362C372E3431392D382E3630352C31312E32373763312E3238362C322E3637312C322E3437332C352E3334322C332E3336332C382E3131316C31352E3033362C322E3237350D0A090963312E3338352C302E3239372C322E3337342C312E3538332C322E3337342C322E393638563130342E3935337A204D37302E3331312C37302E3333632D31332E3934382C302D32352E3332342C31312E3337362D32352E3332342C32352E3332347331312E3337362C32352E3332342C32352E3332342C32352E3332340D0A09097332352E3332342D31312E3337362C32352E3332342D32352E3332345338342E3235392C37302E33332C37302E3331312C37302E33337A222F3E0D0A3C2F673E0D0A3C673E0D0A093C706174682066696C6C3D22233443344334442220643D224D3138322E3139322C33352E303135632D302E3739322D312E3738312D312E3738312D332E3536312D322E3936382D352E31343463302E3839312D312E3937392C352E3034352D31312E3837312C352E3034352D31332E3635310D0A090963302D302E3139382D302E3039392D302E3439352D302E3339362D302E363932632D312E3138382D302E3639322D31312E3737322D362E3932342D31322E3236372D362E3932344C3137312E3031342C382E38632D332E3336332C332E3336332D362E3333312C372E3232312D392E3130312C31312E3037390D0A0909632D302E3938392D302E3039392D312E3937392D302E3139382D322E3936382D302E313938732D312E3937392C302E3039392D322E3936382C302E313938632D302E3938392D312E3438342D382E3430382D31312E3237372D392E3639342D31312E3237370D0A0909632D302E3439342C302D31312E3037392C362E3333312D31322E3236372C362E393234632D302E3239372C302E3139382D302E3339362C302E3439352D302E3339362C302E36393263302C312E3638322C342E3135342C31312E3637332C352E3034352C31332E3635310D0A0909632D312E3138372C312E3538332D322E3137362C332E3336332D322E3936382C352E313434632D312E3937392C302E3139382D31342E3733392C312E3538332D31342E3733392C332E3036367631332E383563302C312E3438332C31322E3736312C322E3836392C31342E3733392C332E3036360D0A090963302E3739322C312E3837392C312E3738312C332E3536312C322E3936382C352E313434632D302E3839312C312E3937392D352E3034352C31312E39372D352E3034352C31332E36353163302C302E3139382C302E3039392C302E3439352C302E3339362C302E3639320D0A090963312E3138382C302E3639322C31312E3737322C372E3032332C31322E3236372C372E30323363312E3238362C302C382E3730352D392E3839322C392E3639342D31312E33373663302E3938392C302E3039392C312E3937392C302E3139382C322E3936382C302E3139380D0A090973312E3937392D302E3039392C322E3936382D302E31393863302E3938392C312E3438342C382E3430382C31312E3337362C392E3639342C31312E33373663302E3439342C302C31312E3037392D362E3333312C31322E3236372D372E3032330D0A090963302E3239372D302E3139382C302E3339362D302E3339362C302E3339362D302E36393263302D312E3738312D342E3135342D31312E3637332D352E3034352D31332E36353163312E3138372D312E3538332C322E3137362D332E3236352C322E3936382D352E3134340D0A090963312E3937392D302E3139382C31342E3733392D312E3538332C31342E3733392D332E303636762D31332E3835433139362E3933322C33362E3539382C3138342E3137312C33352E3231322C3138322E3139322C33352E3031357A204D3135382E3934352C35372E3636380D0A0909632D362E3932352C302D31322E3636322D352E3633392D31322E3636322D31322E36363263302D362E3932352C352E3733372D31322E3636322C31322E3636322D31322E3636327331322E3636322C352E3733372C31322E3636322C31322E3636320D0A0909533136352E3936392C35372E3636382C3135382E3934352C35372E3636387A222F3E0D0A3C2F673E0D0A3C673E0D0A093C673E0D0A09093C706174682066696C6C3D226E6F6E652220643D224D3135382E3237392C3133352E353031632D362E3932352C302D31322E3636322C352E3733372D31322E3636322C31322E36363263302C372E3032332C352E3733372C31322E3636322C31322E3636322C31322E3636320D0A09090963372E3032332C302C31322E3636322D352E3733362C31322E3636322D31322E363632433137302E3934312C3134312E3233382C3136352E3230342C3133352E3530312C3135382E3237392C3133352E3530317A222F3E0D0A09093C706174682066696C6C3D22233443344334442220643D224D3138322E3532362C3133382E313732632D302E3739322D312E3738312D312E3738312D332E3536312D322E3936382D352E31343463302E3839312D312E3937392C352E3034352D31312E3837312C352E3034352D31332E3635310D0A09090963302D302E3139382D302E3039392D302E3439352D302E3339362D302E363932632D312E3138382D302E3639322D31312E3737322D362E3932342D31322E3236372D362E3932346C2D302E3539342C302E313938632D332E3336332C332E3336332D362E3333312C372E3232312D392E3130312C31312E3037390D0A090909632D302E3938392D302E3039392D312E3937392D302E3139382D322E3936382D302E313938732D312E3937392C302E3039392D322E3936382C302E313938632D302E3938392D312E3438342D382E3430382D31312E3237372D392E3639342D31312E3237370D0A090909632D302E3439342C302D31312E3037392C362E3333312D31322E3236372C362E393234632D302E3239372C302E3139382D302E3339362C302E3439352D302E3339362C302E36393263302C312E3638322C342E3135342C31312E3637332C352E3034352C31332E3635310D0A090909632D312E3138372C312E3538332D322E3137362C332E3336332D322E3936382C352E313434632D312E3937392C302E3139382D31342E3733392C312E3538332D31342E3733392C332E3036367631332E38353163302C312E3438322C31322E3736312C322E3836372C31342E3733392C332E3036360D0A09090963302E3739322C312E3837392C312E3738312C332E3536312C322E3936382C352E313433632D302E3839312C312E3937392D352E3034352C31312E3937312D352E3034352C31332E36353263302C302E3139372C302E3039392C302E3439342C302E3339362C302E3639310D0A09090963312E3138382C302E3639332C31312E3737322C372E3032352C31322E3236372C372E30323563312E3238362C302C382E3730352D392E3839332C392E3639342D31312E33373763302E3938392C302E312C312E3937392C302E3139372C322E3936382C302E3139370D0A09090973312E3937392D302E3039382C322E3936382D302E31393763302E3938392C312E3438342C382E3430382C31312E3337372C392E3639342C31312E33373763302E3439342C302C31312E3037392D362E3333322C31322E3236372D372E3032350D0A09090963302E3239372D302E3139372C302E3339362D302E3339352C302E3339362D302E36393163302D312E3738312D342E3135342D31312E3637342D352E3034352D31332E36353263312E3138372D312E3538322C322E3137362D332E3236342C322E3936382D352E3134330D0A09090963312E3937392D302E3139392C31342E3733392D312E3538342C31342E3733392D332E303636762D31332E383531433139372E3236362C3133392E3735352C3138342E3530352C3133382E33372C3138322E3532362C3133382E3137327A204D3135392E3237392C3136302E3832350D0A090909632D362E3932352C302D31322E3636322D352E3633392D31322E3636322D31322E36363263302D362E3932352C352E3733372D31322E3636322C31322E3636322D31322E3636327331322E3636322C352E3733372C31322E3636322C31322E3636320D0A090909433137312E3934312C3135352E3038392C3136362E3330332C3136302E3832352C3135392E3237392C3136302E3832357A222F3E0D0A093C2F673E0D0A3C2F673E0D0A3C2F7376673E0D0A, N''4B7035CD-4D17-4713-B12F-4DAE44669E20'')')

INSERT INTO [dbo].[AttributeValue] ([IsSystem],[AttributeId],[EntityId],[Order],[Value],[Guid])
     VALUES 
        (1, @attributeIconId, @definedValueCheckScannerId, 0, (select Id from BinaryFile where Guid = '85A09244-EB5E-4E6F-BDAA-AD77A68ABE68'), '88422224-689D-4CF5-B479-F5B1C0EEA3E3'),
        (1, @attributeIconId, @definedValueStatementGeneratorId, 0, (select Id from BinaryFile where Guid = '40ACE9C0-BCB6-44BA-9371-943E3CF74C44'), '16877C34-0A76-4CEA-B7CF-C7BBD66E80C6'),
        (1, @attributeIconId, @definedValueJobSchedulerId, 0, (select Id from BinaryFile where Guid = 'C7344F91-97FB-4354-BCDF-36043E2D1480'), '32BD0AE7-A0C2-4AEB-84CD-874A1349EF4A')

-- Vendor
INSERT INTO [dbo].[AttributeValue] ([IsSystem],[AttributeId],[EntityId],[Order],[Value],[Guid])
     VALUES 
        (1, @attributeVendorId, @definedValueCheckScannerId, 0, 'Spark Development Network', 'BD731BA8-1375-4FA1-AD47-6C787A7B4482'),
        (1, @attributeVendorId, @definedValueStatementGeneratorId, 0, 'Spark Development Network', '881A3D9B-2EE2-4E85-AC94-4A58E4ABE6BE'),
        (1, @attributeVendorId, @definedValueJobSchedulerId, 0, 'Spark Development Network', '6993D5B8-F580-4488-88FF-61390525377A')

-- DownloadUrl
INSERT INTO [dbo].[AttributeValue] ([IsSystem],[AttributeId],[EntityId],[Order],[Value],[Guid])
     VALUES 
        (1, @attributeDownloadUrlId, @definedValueCheckScannerId, 0, 'http://storage.rockrms.com/externalapplications/sparkdevnetwork/checkscanner/1.0.3/checkscanner.exe', '82960DBD-2EAA-47DF-B9AC-86F7A2FCA180'),
        (1, @attributeDownloadUrlId, @definedValueStatementGeneratorId, 0, 'http://storage.rockrms.com/externalapplications/sparkdevnetwork/statementgenerator/1.0.3/statementgenerator.exe', '10BE2E03-7827-41B5-8CB2-DEB473EA107A'),
        (1, @attributeDownloadUrlId, @definedValueJobSchedulerId, 0, 'http://storage.rockrms.com/externalapplications/sparkdevnetwork/jobscheduler/1.0.3/jobscheduler.exe', '7FBC4397-6BFD-451D-A6B9-83D7B7265641')

-- Rename BlockType
UPDATE [BlockType] set [Path] = '~/Blocks/Administration/ExternalApplicationList.ascx', [Name] = 'External Application List', [Description] = 'Will list all of the defined type values with the type of External Application.  This provides a way for users to select any one of these files.'
  where [Guid] = '850A0541-D31A-4559-94D1-9DAD5F52EFDF'

-- Delete BinaryFile stuff related to External File (now that it uses Defined Type instead)
delete from [BinaryFile] where [BinaryFileTypeId] = (select [id] from [BinaryFileType] where [Guid] = '29EFF9B7-6814-4B9F-A922-77FA0448EBFA')
delete from [BinaryFileType] where [Guid] = '29EFF9B7-6814-4B9F-A922-77FA0448EBFA'

" );
        }

        /// <summary>
        /// Operations to be performed during the downgrade process.
        /// </summary>
        public override void Down()
        {
            Sql( @"
delete from Attribute where Guid in ('C6E82AF0-2128-492B-B5CB-7915630DDA0B','E9AAE4D6-B4DC-4AA2-BD86-D63B2B4D26F3','E0AF9B30-15EA-413B-BAC4-25B286D91FD9')
delete from BinaryFile where Guid in ('85A09244-EB5E-4E6F-BDAA-AD77A68ABE68', '40ACE9C0-BCB6-44BA-9371-943E3CF74C44', 'C7344F91-97FB-4354-BCDF-36043E2D1480')" );

            DeleteDefinedValue( "BD5C5A1F-D295-4946-84A4-771834ED0598" );
            DeleteDefinedValue( "54E1EBCC-5A5A-4B26-9CCB-36E7CEB49C3C" );
            DeleteDefinedValue( "98E421D8-0F9D-484B-B2EA-2F6FEE8E785D" );

            DeleteDefinedType( "1FAC459C-5F62-4E7C-8933-61FF9FE2DFEF" );
        }
    }
}
