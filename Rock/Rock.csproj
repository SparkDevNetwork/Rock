<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net472</TargetFramework>
    <GenerateAssemblyInfo>False</GenerateAssemblyInfo>
    <GenerateDocumentationFile>True</GenerateDocumentationFile>
    <RockWebPath>..\RockWeb</RockWebPath>
    <CopyToRockWeb>True</CopyToRockWeb>
  </PropertyGroup>

  <PropertyGroup>
    <DefineConstants>$(DefineConstants);WEBFORMS</DefineConstants>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="..\Rock.Version\AssemblySharedInfo.cs">
      <Link>Properties\AssemblySharedInfo.cs</Link>
    </Compile>
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Antlr" Version="3.5.0.2" />
    <PackageReference Include="AWSSDK.Core" Version="3.3.25.4" />
    <PackageReference Include="AWSSDK.S3" Version="3.3.21.1" />
    <PackageReference Include="Azure.Storage.Blobs" Version="12.20.0" />
    <PackageReference Include="BCrypt-Official" Version="0.1.109" />
    <PackageReference Include="CacheManager.SystemRuntimeCaching" Version="1.2.0" />
    <PackageReference Include="CommonMark.NET" Version="0.13.2" />
    <PackageReference Include="CronExpressionDescriptor" Version="2.16.0" />
    <PackageReference Include="CS-Script" Version="3.13.2" />
    <PackageReference Include="DDay.iCal" Version="1.0.2.575" />
    <PackageReference Include="dotless" Version="1.5.2" />
    <PackageReference Include="EF6.TagWith" Version="1.2.1" />
    <PackageReference Include="EntityFramework" Version="6.4.4" />
    <PackageReference Include="FirebaseAdmin" Version="2.4.0" />
    <PackageReference Include="Google.Cloud.Storage.V1" Version="2.4.0" />
    <PackageReference Include="Hashids.net" Version="1.4.1" />
    <PackageReference Include="HtmlAgilityPack" Version="1.4.9.5" />
    <PackageReference Include="Ical.Net" Version="4.2.0" />
    <PackageReference Include="IdentityModel" Version="3.0.0" />
    <PackageReference Include="ImageResizer" Version="4.0.5" />
    <PackageReference Include="jQuery" Version="1.12.4" />
    <PackageReference Include="Lucene.Net.Expressions" Version="4.8.0-beta00005" />
    <PackageReference Include="Lucene.Net.QueryParser" Version="4.8.0-beta00005" />
    <PackageReference Include="MassTransit.Azure.ServiceBus.Core" Version="8.2.5" />
    <PackageReference Include="MassTransit.AzureServiceBus" Version="5.5.2" />
    <PackageReference Include="MassTransit.RabbitMQ" Version="8.2.5" />
    <PackageReference Include="MaxMind.GeoIP2" Version="4.1.0" />
    <PackageReference Include="MessagePack" Version="1.9.11" />
    <PackageReference Include="Microsoft.AspNet.SignalR" Version="2.4.3" />
    <PackageReference Include="Microsoft.AspNet.Web.Optimization" Version="1.1.3" />
    <PackageReference Include="Microsoft.AspNet.WebApi.WebHost" Version="5.2.3" />
    <PackageReference Include="Microsoft.Azure.SignalR.AspNet" Version="1.0.14" />
    <PackageReference Include="Microsoft.Azure.Storage.Blob" Version="11.1.3" />
    <PackageReference Include="Microsoft.Diagnostics.Tracing.EventSource.Redist" Version="1.1.28" />
    <PackageReference Include="Microsoft.Extensions.FileProviders.Abstractions" Version="8.0.0" />
    <PackageReference Include="Microsoft.Extensions.Logging.Debug" Version="8.0.0" />
    <PackageReference Include="Microsoft.IdentityModel.Clients.ActiveDirectory" Version="2.21.301221612" />
    <PackageReference Include="Microsoft.IdentityModel.Protocols.OpenIdConnect" Version="5.2.1" />
    <PackageReference Include="Microsoft.Net.Http.Headers" Version="2.2.0" />
    <PackageReference Include="Microsoft.Owin" Version="4.2.2" />
    <PackageReference Include="Microsoft.Owin.Host.SystemWeb" Version="3.0.1" />
    <PackageReference Include="Microsoft.Owin.Security" Version="4.0.0" />
    <PackageReference Include="Microsoft.SemanticKernel.Abstractions" Version="1.60.0" />
    <PackageReference Include="Microsoft.SqlServer.Types" Version="11.0.2" />
    <PackageReference Include="Microsoft.Web.Xdt" Version="2.1.1" />
    <PackageReference Include="NEST.JsonNetSerializer" Version="7.17.0" />
    <PackageReference Include="Newtonsoft.Json.Bson" Version="1.0.1" />
    <PackageReference Include="NuGet.Core" Version="2.11.1" />
    <PackageReference Include="OpenTelemetry.Exporter.OpenTelemetryProtocol" Version="1.7.0" />
    <PackageReference Include="OpenXmlPowerTools" Version="4.2.0" />
    <PackageReference Include="PreMailer.Net" Version="2.4.0" />
    <PackageReference Include="PuppeteerSharp" Version="18.1.0" />
    <PackageReference Include="QRCoder" Version="1.3.9" />
    <PackageReference Include="RestSharp" Version="105.2.3" />
    <PackageReference Include="Serilog.Extensions.Logging" Version="8.0.0" />
    <PackageReference Include="Serilog.Formatting.Compact" Version="1.1.0" />
    <PackageReference Include="Serilog.Formatting.Compact.Reader" Version="1.0.3" />
    <PackageReference Include="Serilog.Sinks.File" Version="4.1.0" />
    <PackageReference Include="SixLabors.ImageSharp" Version="2.1.9" />
    <PackageReference Include="SixLabors.ImageSharp.Drawing" Version="1.0.0-beta15" />
    <PackageReference Include="System.ComponentModel.Annotations" Version="4.7.0" />
    <PackageReference Include="System.IdentityModel.Tokens.Jwt" Version="5.7.0" />
    <PackageReference Include="System.Interactive.Async" Version="3.2.0" />
    <PackageReference Include="System.IO.Pipelines" Version="4.7.5" />
    <PackageReference Include="System.Linq.Dynamic.Core" Version="1.4.2" />
    <PackageReference Include="System.Reflection.Emit" Version="4.7.0" />
    <PackageReference Include="System.Reflection.Emit.Lightweight" Version="4.7.0" />
    <PackageReference Include="System.Text.Json" Version="8.0.5" />
    <PackageReference Include="System.Threading.Channels" Version="8.0.0" />
    <PackageReference Include="TimeZoneConverter" Version="6.0.1" />
    <PackageReference Include="Twilio" Version="5.1.0" />
    <PackageReference Include="UAParser" Version="3.1.44" />
    <PackageReference Include="xxHashSharp" Version="1.0.0" />
    <PackageReference Include="Z.EntityFramework.Plus.EF6" Version="1.8.6" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\Rock.Common\Rock.Common.csproj" />
    <ProjectReference Include="..\Rock.DownhillCss\Rock.DownhillCss.csproj" />
    <ProjectReference Include="..\Rock.Enums\Rock.Enums.csproj" />
    <ProjectReference Include="..\Rock.Lava.Fluid\Rock.Lava.Fluid.csproj" />
    <ProjectReference Include="..\Rock.Lava.Shared\Rock.Lava.Shared.csproj" />
    <ProjectReference Include="..\Rock.Lava\Rock.Lava.csproj" />
    <ProjectReference Include="..\Rock.Version\Rock.Version.csproj" />
    <ProjectReference Include="..\Rock.ViewModels\Rock.ViewModels.csproj" />
  </ItemGroup>

  <ItemGroup>
    <Reference Include="EntityFramework.Utilities">
      <HintPath>..\libs\EFUtilities\EntityFramework.Utilities.dll</HintPath>
    </Reference>
    <Reference Include="EPPlus">
      <HintPath>..\libs\EPPlus\EPPlus.dll</HintPath>
    </Reference>
    <Reference Include="EXIFextractor">
      <HintPath>..\libs\Goheer EXIFExtractor\EXIFextractor.dll</HintPath>
    </Reference>
    <Reference Include="FCM.Net, Version=1.0.0.0, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>..\libs\FCM\FCM.Net.dll</HintPath>
    </Reference>
    <Reference Include="Humanizer">
      <HintPath>..\libs\Humanizer.2.1.0\Humanizer.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.VisualBasic" />
    <Reference Include="PresentationCore" />
    <Reference Include="PresentationFramework" />
    <Reference Include="Quartz">
      <HintPath>..\libs\Quartz\Quartz.dll</HintPath>
    </Reference>
    <Reference Include="Rock.Common.Mobile, Version=0.3.13.0, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>..\RockWeb\Bin\Rock.Common.Mobile.dll</HintPath>
      <Private>False</Private>
    </Reference>
    <Reference Include="Rock.Common.Tv, Version=1.0.0.0, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>..\libs\Rock.Common.Tv\Rock.Common.Tv.dll</HintPath>
    </Reference>
    <Reference Include="stream-chat-net, Version=2.10.0.0, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>..\libs\StreamChat\stream-chat-net.dll</HintPath>
    </Reference>
    <Reference Include="System" />
    <Reference Include="System.ComponentModel.Composition" />
    <Reference Include="System.ComponentModel.DataAnnotations" />
    <Reference Include="System.configuration" />
    <Reference Include="System.Core" />
    <Reference Include="System.Data.Entity.Design" />
    <Reference Include="System.Data.Services" />
    <Reference Include="System.DirectoryServices" />
    <Reference Include="System.DirectoryServices.AccountManagement" />
    <Reference Include="System.Drawing" />
    <Reference Include="System.IdentityModel" />
    <Reference Include="System.IO.Compression.FileSystem" />
    <Reference Include="System.Management" />
    <Reference Include="System.Net.Http.WebRequest" />
    <Reference Include="System.Numerics" />
    <Reference Include="System.Runtime.Caching" />
    <Reference Include="System.Runtime.Remoting" />
    <Reference Include="System.Runtime.Serialization" />
    <Reference Include="System.Security" />
    <Reference Include="System.ServiceModel" />
    <Reference Include="System.ServiceModel.Web" />
    <Reference Include="System.Transactions" />
    <Reference Include="System.Web" />
    <Reference Include="System.Web.Extensions" />
    <Reference Include="System.Xml.Linq" />
    <Reference Include="System.Data.DataSetExtensions" />
    <Reference Include="Microsoft.CSharp" />
    <Reference Include="System.Data" />
    <Reference Include="System.Xml" />
    <Reference Include="WindowsBase" />
  </ItemGroup>

  <Import Project="..\Applications\RockCloudPrint\Rock.CloudPrint.Shared.Common\Rock.CloudPrint.Shared.Common.projitems" Label="Shared" />

  <Target Name="PreBuild" BeforeTargets="PreBuildEvent">
    <Exec Command="REM Sets vbcscompiler.exe time to live to 10 seconds. Dev environment defaults to 600 secs which can cause issues when switching branches&#xD;&#xA;REM In a production environment, it will be 10 seconds, even without the VBCSCOMPILER_TTL environment variable&#xD;&#xA;if &quot;$(ConfigurationName)&quot; == &quot;Debug&quot; (&#xD;&#xA; echo &quot;setting VBCSCOMPILER_TTL to 10 seconds&quot;&#xD;&#xA; call &quot;$(ProjectDir)..\Dev Tools\VBCS_Compiler\setVBCSCOMPILER_TTL.bat&quot;&#xD;&#xA; if Exist &quot;$(ProjectDir)..\.githooks\&quot; (&#xD;&#xA;  if Exist &quot;$(ProjectDir)..\.git\hooks\&quot; (&#xD;&#xA;   xcopy &quot;$(ProjectDir)..\.githooks\*&quot; &quot;$(ProjectDir)..\.git\hooks\&quot; /S /Y&#xD;&#xA;  )&#xD;&#xA; )&#xD;&#xA;)&#xD;&#xA;&#xD;&#xA;REM delete build artifacts from stuff that is no longer part of Rock (InteractivePreGeneratedViews and React)&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\ru-ru\JavaScriptEngineSwitcher.Core.resources.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\ru-ru\JavaScriptEngineSwitcher.Core.resources.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\ru-ru\JavaScriptEngineSwitcher.V8.resources.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\ru-ru\JavaScriptEngineSwitcher.V8.resources.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\ru-ru\MsieJavaScriptEngine.resources.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\ru-ru\MsieJavaScriptEngine.resources.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\InteractivePreGeneratedViews.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\InteractivePreGeneratedViews.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\JavaScriptEngineSwitcher.Core.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\JavaScriptEngineSwitcher.Core.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\JavaScriptEngineSwitcher.Msie.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\JavaScriptEngineSwitcher.Msie.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\JavaScriptEngineSwitcher.V8.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\JavaScriptEngineSwitcher.V8.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\JSPool.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\JSPool.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\MsieJavaScriptEngine.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\MsieJavaScriptEngine.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\React.Core.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\React.Core.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\React.Web.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\React.Web.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\React.Web.Mvc4.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\React.Web.Mvc4.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.Helpers.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.Helpers.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.Mvc.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.Mvc.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.Razor.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.Razor.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.WebPages.Deployment.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.WebPages.Deployment.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.WebPages.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.WebPages.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.WebPages.Razor.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\System.Web.WebPages.Razor.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\VroomJs.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\VroomJs.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\WebActivatorEx.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\WebActivatorEx.dll&quot;&#xD;&#xA;if Exist &quot;$(ProjectDir)..\RockWeb\Bin\Rock.TransNational.Pi.dll&quot; del &quot;$(ProjectDir)..\RockWeb\Bin\Rock.TransNational.Pi.dll&quot;" />
  </Target>

</Project>