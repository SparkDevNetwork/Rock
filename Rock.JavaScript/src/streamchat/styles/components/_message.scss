.rocktheme-community {
    a {
        color: var(--color-info-strong);
    }

    .rock-message-thread-preview-wrapper {
        .rock-message-thread-preview-button {
            background: none;
            display: flex;
            gap: 6px;
            align-items: center;
            border: none;
            cursor: pointer;
            color: var(--color-info-strong);
            font-size: 14px;
        }
    }

    .str-chat__attachment-list {
        gap: 6px;

        .str-chat__message-attachment-file--item {
            background-color: var(--color-interface-softer);
        }
    }

    .str-chat__quoted-message-preview .str-chat__quoted-message-bubble {
        background-color: var(--color-interface-softer);

        &:hover {
            background-color: var(--color-interface-softest);
        }
    }

    .rock-message-container {
        display: flex;
        gap: var(--message-gap);
        padding-top: var(--message-gap);
        padding-bottom: var(--message-gap);

        .rock-message-title-layout {
            display: flex;
            align-items: center;
            gap: var(--message-title-gap);
        }

        .rock-message-layout {
            display: flex;
            flex-direction: column;
            line-height: var(--message-layout-line-height);

            .rock-message-content {
                display: flex;
                flex-direction: column;
                gap: var(--message-content-gap);
            }

            .rock-message-author {
                font-size: var(--message-author-font-size);
                font-weight: var(--message-author-font-weight);
                color: var(--message-author-color);
                line-height: var(--message-author-line-height);
            }
        }

        .rock-avatar-container {
            --str-chat__avatar-size: var(--message-avatar-size);
        }
    }

    .str-chat__message-text-inner {
        p {
            white-space: pre-line;
        }
    }

    .rock-chat-message-send-failed {
        .rock-chat-message-send-failed-icon {
            display: block;
        }
    }

    .rock-message-badges {
        display: flex;
        gap: var(--message-badges-gap);
    }

    .rock-message-wrapper {
        position: relative;
        display: flex;
        padding-inline: var(--message-wrapper-padding-inline);
        padding-right: var(--message-wrapper-padding-right);
        --str-chat__message-reaction-background-color: var(--message-reaction-bg);

        &:hover,
        &[data-dialog-open="true"] {
            background-color: var(--message-wrapper-bg-hover);
            --str-chat__message-reaction-background-color: var(--message-reaction-bg-hover);

            .rock-message-actions {
                opacity: 1;
                pointer-events: auto;
            }

            // Make quoted message background white on hover
            .str-chat__quoted-message-preview .str-chat__quoted-message-bubble {
                background-color: var(--color-interface-softest);
            }

            .str-chat__attachment-list {
                .str-chat__message-attachment-file--item {
                    background-color: var(--color-interface-softest);
                }
            }
        }
    }

    .rock-message-actions {
        position: absolute;
        right: 0;
        top: -1rem;
        display: flex;
        gap: var(--message-actions-gap);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.30s ease;
        background: var(--message-actions-bg);
        border: var(--message-actions-border);
        border-radius: var(--message-actions-border-radius);
        padding: var(--message-actions-padding);
        margin-right: var(--message-actions-margin-right);
    }

    .rock-message-action {
        background: none;
        border: none;
        color: var(--message-action-color);
        border-radius: var(--message-action-border-radius);
        cursor: pointer;
        font-size: var(--message-action-font-size);
        height: var(--message-action-size);
        width: var(--message-action-size);
        display: flex;
        align-items: center;
        justify-content: center;

        &--active,
        &:hover {
            background: var(--message-action-bg-active);
        }
    }

    .rock-message-more-actions {
        display: flex;
        flex-direction: column;
        background-color: var(--color-interface-softest);
        border-radius: 4px;
        align-items: center;
        justify-content: start;
        border: 1px solid var(--color-interface-soft);

        .rock-message-more-action {
            background: none;
            border: none;
            color: var(--color-interface-strong);
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: start;
            gap: 6px;
            font-size: 14px;
            font-weight: 600;
            padding: 4px 8px;

            &:hover {
                background: var(--color-interface-softer);
            }

            &--destructive {
                color: var(--color-danger-strong);
            }
        }

        // Add border between items except the last
        .rock-message-more-action:not(:last-child) {
            border-bottom: 1px solid var(--color-interface-soft);
        }
    }

    .rock-message-simple-timestamp {
        font-size: var(--message-timestamp-font-size);
        color: var(--message-timestamp-color);
        line-height: var(--message-timestamp-line-height);
    }

    .str-chat__edit-message-form-options {
        gap: 6px;
    }

    /* Replies Content */
    .rocktheme-community .rock-replies-content-container {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-top: 6px;
    }

    .rock-replies-content-count {
        display: flex;
        align-items: center;
        gap: 0.25rem;
        font-size: 12px;
        color: var(--color-interface-strong);
    }

    .rock-replies-content-container .rock-replies-content-count>.rock-replies-content-count-text {
        font-weight: 600;
    }

    .rock-replies-content-thread-reply-button {
        background: var(--color-interface-soft);
        border: none;
        color: var(--color-interface-stronger);
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        padding: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        line-height: 0.75rem;
    }

    .rock-replies-content-thread-reply-button:hover {
        background: var(--color-interface-soft);
    }

    .rock-chat-message-send-failed-icon {
        color: var(--message-send-failed-color);
        display: none;
        font-size: var(--message-send-failed-font-size);
    }
}