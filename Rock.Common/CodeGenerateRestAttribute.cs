// <copyright>
// Copyright by the Spark Development Network
//
// Licensed under the Rock Community License (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.rockrms.com/license
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// </copyright>
//
using System;

using Rock.Enums;

namespace Rock
{
    /// <summary>
    /// <para>
    /// Defines which REST v2 API endpoints will be generated by the code
    /// generation tool. Passing no parameters will generate all endpoints.
    /// </para>
    /// <para>
    /// To skip endpoint generation entirely specify the
    /// <see cref="CodeGenerateRestEndpoint.None"/> parameter.
    /// </para>
    /// </summary>
    [AttributeUsage( AttributeTargets.Class, AllowMultiple = false )]
    public class CodeGenerateRestAttribute : System.Attribute
    {
        /// <summary>
        /// The endpoints that should be generated.
        /// </summary>
        public CodeGenerateRestEndpoint Endpoints { get; }

        /// <summary>
        /// If <c>true</c> then the generated API endpoints will always ignore
        /// per-entity security. Speficially, only the UnrestrictedView or
        /// UnrestrictedEdit security actions will be enabled.
        /// </summary>
        public bool DisableEntitySecurity { get; set; }

        /// <summary>
        /// Initializes a new instance of the <see cref="CodeGenerateRestAttribute"/> class
        /// with all endpoints included.
        /// </summary>
        public CodeGenerateRestAttribute()
        {
            Endpoints = CodeGenerateRestEndpoint.All;
        }

        /// <summary>
        /// Initializes a new instance of the <see cref="CodeGenerateRestAttribute"/> class.
        /// </summary>
        /// <param name="endpoints">The endpoints to be generated.</param>
        public CodeGenerateRestAttribute( CodeGenerateRestEndpoint endpoints )
        {
            Endpoints = endpoints;
        }
    }
}
